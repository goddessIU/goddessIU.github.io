import{u as I,s as $,a as b}from"./index.177b5f2a.js";import{_ as E,f as l,g as f,h as s,c as w,C as N,e,D as T,F as g,z as V,B as L,A as O,v as z,n as S,r as v,p as R,i as B,b as F,o as H,x as M,l as x,E as A,y as P,j as C}from"./vendor.6b481748.js";import{C as U}from"./CommonHeader.ebaea649.js";import{_ as j}from"./lodash.2827fe9f.js";import{S as G}from"./SearchBar.9ebab950.js";import{u as K}from"./useSticky.b1c32cd0.js";/* empty css                                                                 */const D=a=>(R("data-v-186787b8"),a=a(),B(),a),q={class:"searchAddress"},J={class:"searchAddress__input"},Q={class:"noAddress"},W=D(()=>s("h3",{class:"noAddress__tile"},"\u627E\u4E0D\u5230\u5730\u5740\uFF1F",-1)),X=D(()=>s("p",{class:"noAddress__content"},"\u8BF7\u5C1D\u8BD5\u53EA\u8F93\u5165\u5C0F\u533A\u3001\u5199\u5B57\u697C\u6216\u5B66\u6821\u540D",-1)),Y=[W,X],Z={props:["isSticky"],setup(a){const y=a,m=()=>{const i=I();let r=v(""),t=v([]),o=v(!1);const n=async()=>{try{if(r.value===""){o.value=!1;return}let p=await $(i.cityData.id,r.value);if(p.name==="ERROR_GET_POSITION")throw new Error("\u8BF7\u6C42\u5931\u8D25");t.value=p,o.value=!0}catch(p){console.error(p)}};return{toSearch:j.debounce(n,500),keyword:r,store:i,searchData:t,showBar:o}},{toSearch:_,keyword:c,searchData:u,showBar:h}=m();return(i,r)=>(l(),f(g,null,[s("div",q,[s("div",J,[w(s("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u5730\u5740",onInput:r[0]||(r[0]=(...t)=>e(_)&&e(_)(...t)),"onUpdate:modelValue":r[1]||(r[1]=t=>T(c)?c.value=t:null)},null,544),[[N,e(c)]])])]),s("div",{class:S(["searchInfo",{"position--absolute":y.isSticky}])},[e(h)?(l(!0),f(g,{key:0},V(e(u),(t,o)=>(l(),L(G,{key:o,name:t.name,address:t.address,latitude:t.latitude,longitude:t.longitude,keyword:e(c)},null,8,["name","address","latitude","longitude","keyword"]))),128)):O("",!0),w(s("div",Q,Y,512),[[z,e(h)]])],2)],64))}};var ee=E(Z,[["__scopeId","data-v-186787b8"]]);const k=a=>(R("data-v-bddc842e"),a=a(),B(),a),se={class:"searchPage"},te=k(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-left"})],-1)),re=C("\u9009\u62E9\u6536\u83B7\u5730\u5740"),oe={class:"currentAddress"},ae=k(()=>s("div",{class:"currentAddress__title"},"\u5F53\u524D\u5730\u5740",-1)),de={class:"currentAddress__content"},ne=k(()=>s("use",{"xlink:href":"#icon-Target"},null,-1)),ce=[ne],ie=C(" \u91CD\u65B0\u5B9A\u4F4D "),le={setup(a){const y=I(),m=F(),_=()=>{let o=v(!1);return{isReaddress:o,reAddress:async()=>{try{o.value=!0;const{addressData:d}=await b();return o.value=!1,{addressData:d}}catch(d){console.error(d)}}}},{isReaddress:c,reAddress:u}=_(),h=()=>({goIndex:()=>{m.push({name:"index"})}}),{goIndex:i}=h(),{useStickyEffect:r,isSticky:t}=K(0);return H(()=>{window.addEventListener("scroll",r)}),M(()=>{window.removeEventListener("scroll",r)}),(o,n)=>(l(),f("div",se,[x(U,{class:S(["stickyHeader",{sticky:e(t)}])},{icon:A(()=>[te]),title:A(()=>[re]),_:1},8,["class"]),x(ee,{isSticky:e(t)},null,8,["isSticky"]),s("div",oe,[ae,s("div",de,[s("div",{class:"currentAddress__title--left",onClick:n[0]||(n[0]=(...d)=>e(i)&&e(i)(...d))},P(e(y).addressData.address),1),s("div",{class:"currentAddress__title--right",onClick:n[1]||(n[1]=(...d)=>e(u)&&e(u)(...d))},[(l(),f("svg",{class:S(["icon",{" icon--rotate":e(c)}])},ce,2)),ie])])])]))}};var me=E(le,[["__scopeId","data-v-bddc842e"]]);export{me as default};
