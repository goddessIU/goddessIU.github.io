import{_ as T,o as g,k,f as _,g as l,F as m,z as B,e as u,c as S,v as y,l as h,E as x,r as f,h as o,y as n,j as G}from"./vendor.6b481748.js";import{u as D,q as E}from"./index.e5d8f9d2.js";import{_ as N}from"./lodash.2827fe9f.js";import{T as V}from"./TipWindow.2f723dc0.js";const z={class:"orderBlock"},C={class:"orderBlock__first"},F={class:"orderBlock__first__left"},q={class:"orderBlock__shopName"},I={class:"orderBlock__time"},M={class:"orderBlock__first__right"},W={class:"orderBlock__money"},A=G("\u8BF7\u5148\u767B\u5F55"),H={setup(J){const s=D(),v=()=>{let e=0,r=10,i=f(!0);const t=async()=>{if(!s.userData){p();return}try{if(!i.value)return;s.openLoading();let a=await E({limit:r,offset:e});if(a.length===0){i.value=!0;return}e===0?s.orderList=a:s.orderList.push(...a),s.closeLoading(),e+=10}catch(a){console.error(a)}};return{useGetOrderList:N.debounce(t,1e3),canGetOrderList:i}},{useGetOrderList:d}=v();g(()=>{if(!s.userData){p();return}d(),window.addEventListener("scroll",function(){(document.documentElement.scrollTop||document.body.scrollTop)>=750&&d()})});const L=()=>{let e=f(!1);return{ShowTip:e,toShowTip:()=>{e.value=!0,setTimeout(()=>{e.value=!1},3e3)}}},{ShowTip:w,toShowTip:p}=L();return(e,r)=>{const i=k("vue-simple-spinner");return _(),l(m,null,[(_(!0),l(m,null,B(u(s).orderList,t=>{var c;return _(),l("div",z,[o("div",C,[o("div",F,[o("div",q,n(t==null?void 0:t.restaurant_name),1),o("div",I,n(t==null?void 0:t.formatted_created_at),1)]),o("div",M,n((c=t==null?void 0:t.status_bar)==null?void 0:c.sub_title),1)]),o("div",W,"\uFFE5"+n(t==null?void 0:t.total_amount),1)])}),256)),S(h(i,{size:"medium"},null,512),[[y,u(s).showLoading]]),h(V,{show:u(w)},{content:x(()=>[A]),_:1},8,["show"])],64)}}};var U=T(H,[["__scopeId","data-v-1394754e"]]);export{U as default};
