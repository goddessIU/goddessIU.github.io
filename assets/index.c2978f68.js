import{u as D,g as A}from"./index.7be6b8d1.js";import{_ as I,o as B,x as E,f as r,g as c,h as e,e as t,y as i,n as R,p as T,i as V,b as L,k as H,c as N,v as b,l as y,j as z,F as x,z as O,A as C,B as F,r as $}from"./vendor.6b481748.js";import{u as j}from"./useSticky.b1c32cd0.js";const w=s=>(T("data-v-52885cac"),s=s(),V(),s),q={class:"head"},M={class:"headTop"},G=w(()=>e("svg",{class:"icon headTop__address__icon","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-address"})],-1)),J={class:"headTop__address__text"},K=w(()=>e("svg",{class:"icon headTop__address__down","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-down"})],-1)),P={class:"headTop__application"},Q=w(()=>e("svg",{class:"icon","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-user"})],-1)),W=[Q],X=w(()=>e("div",{class:"headSearch__brand"}," \u6B22\u8FCE\u6765\u5230\u997F\u4E86\u4E48 ",-1)),Y=[X],Z={setup(s){const n=D(),{useStickyEffect:_,isSticky:u}=j(".headTop");B(()=>{window.addEventListener("scroll",_)}),E(()=>{window.removeEventListener("scroll",_)});const p=()=>{const a=L();return{goUser:()=>{a.push({name:"user"})},toSignUp:()=>{a.push({name:"signup"})},toAddress:()=>{a.push({name:"address"})},router:a}},{goUser:v,toSignUp:h,toAddress:l,router:g}=p();return(a,o)=>(r(),c("div",q,[e("div",M,[e("div",{class:"headTop__address",onClick:o[0]||(o[0]=(...d)=>t(l)&&t(l)(...d))},[G,e("div",J,i(t(n).addressData.address),1),K]),e("div",P,[t(n).userData?(r(),c("div",{key:1,class:"headTop__application__signup",onClick:o[2]||(o[2]=(...d)=>t(v)&&t(v)(...d))},W)):(r(),c("div",{key:0,class:"headTop__application__signup",onClick:o[1]||(o[1]=(...d)=>t(h)&&t(h)(...d))},"\u767B\u5F55|\u6CE8\u518C"))])]),e("div",{class:R(["headSearch",{sticky:t(u)}])},Y,2)]))}};var ee=I(Z,[["__scopeId","data-v-52885cac"]]);const se={class:"store__img"},te=["src"],oe={class:"store__intro"},ne={class:"store__title"},ae={class:"store__rate"},re={class:"store__service"},ce={props:["storeData","index"],setup(s){const n=s,_=D(),u=L(),p=()=>{_.currentShopIndex=n.index,_.currentShopId=n.storeData.id,u.push({name:"shopIndex",query:{shopId:n.storeData.id}})};return(v,h)=>{var l,g;return r(),c("div",{class:"store",onClick:p},[e("div",se,[e("img",{src:`https://elm.cangdu.org/img/${s.storeData.image_path}`,onerror:"this.classList.add('store__img__onerror')"},null,8,te)]),e("div",oe,[e("h1",ne,i(s.storeData.name),1),e("div",ae,"\u8BC4\u5206\uFF1A"+i(s.storeData.rating)+" \u6708\u552E"+i(s.storeData.recent_order_num)+"\u5355",1),e("div",re,i((g=(l=s.storeData)==null?void 0:l.piecewise_agent_fee)==null?void 0:g.tips)+" "+i(s.storeData.distance)+"|"+i(s.storeData.order_lead_time),1)])])}}};var de=I(ce,[["__scopeId","data-v-5e17056b"]]);const U=s=>(T("data-v-e63dd262"),s=s(),V(),s),ie={class:"recommend"},_e=U(()=>e("h1",{class:"recommend__title"},"\u2014\u2014\u5546\u5BB6\u2014\u2014",-1)),le={class:"recommend__options"},ue={class:"recommend__sort"},pe=U(()=>e("svg",{class:"icon","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-sort-down"})],-1)),he={key:0,class:"recommend__sort__sortOptions"},me=["onClick"],ve={key:0,class:"recommend__stores"},ge={setup(s){const n=D(),_=()=>{let a=$(!1);return{showOptionsValue:a,changeShowOptionsValue:()=>{a.value=!a.value}}},{showOptionsValue:u,changeShowOptionsValue:p}=_(),v=()=>{let a=$(["\u6309\u8D77\u9001\u4EF7\u6392\u5E8F","\u6309\u914D\u9001\u901F\u5EA6\u6392\u5E8F","\u6309\u8BC4\u5206\u6392\u5E8F","\u7EFC\u5408\u6392\u5E8F","\u6309\u8DDD\u79BB\u6392\u5E8F","\u6309\u9500\u91CF\u6392\u5E8F","\u7EFC\u5408\u6392\u5E8F"]),o=$(3);return{optionsArr:a,curIndex:o,chooseOption:async(m,S=0)=>{n.openLoading(),o.value=m,await A(m+1,S),u.value=!1,n.closeLoading()}}},{optionsArr:h,curIndex:l,chooseOption:g}=v();return(a,o)=>{var m,S;const d=H("vue-simple-spinner");return r(),c(x,null,[N(y(d,{size:"medium"},null,512),[[b,t(n).showLoading]]),e("div",ie,[_e,e("div",le,[e("div",ue,[e("div",{class:"recommend__sort__currentOption",onClick:o[0]||(o[0]=(...k)=>t(p)&&t(p)(...k))},[z(i(t(h)[t(l)])+" ",1),pe,t(u)?(r(),c("div",he,[(r(!0),c(x,null,O(t(h),(k,f)=>(r(),c("div",{class:"recommend__sort__option",onClick:Se=>t(g)(f)},i(k),9,me))),256))])):C("",!0)])])]),((S=(m=t(n))==null?void 0:m.storesData)==null?void 0:S.status)!==0?(r(),c("div",ve,[(r(!0),c(x,null,O(t(n).storesData,(k,f)=>(r(),F(de,{key:f,"store-data":k,index:f},null,8,["store-data","index"]))),128))])):C("",!0)])],64)}}};var ke=I(ge,[["__scopeId","data-v-e63dd262"]]);const $e={setup(s){return(n,_)=>(r(),c(x,null,[y(ee),y(ke)],64))}};export{$e as default};
